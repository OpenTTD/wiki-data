[[Translation:en/Development/Script/Squirrel pitfalls]]
===require()===

To include files inside your main.nut, you can use require(). Require() works relative from the current file, so it should be easy to use. But, there are several things you have to keep in mind:

* It always includes the file in the global space. It isn't a code-include. So the file included has to be full code (rarely people will notice this, but it is important to know :))
* Try to avoid require() on the root-level of main.nut. So try to do it in a function, in Start() for example sounds like a good idea. When OpenTTD starts up, it runs all main.nuts, and the AIFactory in it. Any require() it comes across on root-level, it includes too. This is a big slowdown, as it is never used (when starting an AI, the file is loaded AGAIN). So put the requires in Start() or where ever when possible, and only just before you start using it. This is a big speed-up.

===Classes===

Make sure you initialize all your non-static class variables in the constructor. Just giving them a value when you declare them is not enough if you create multiple instances!! If you fail to initialize a variable in the constructor it might end up with a weird value, such as copying the value from another instance of the class. The box below shows a correct way to initialize variables. The important thing is that all variables gets a value in the constructor. 

 class Developer
 {
     name = null;
     age  = null;
     constructor() {
         name = "Unknown Developer";
         age  = 25;
     }
     function SetName(name);
     // ...
 }

[[Category:en/Development]]
[[Category:en/Development/Script/NoAI]]